/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */

/**
 * @license RequireJS html 0.0.2 Copyright (c) 2012-2012, Gabriel Reitz Giannattasio All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/gartz/html for details
 */

define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,i,a){if(n===a)return!0;if(e===i){if("http"===e)return t(n,"80")===t(a,"80");if("https"===e)return t(n,"443")===t(a,"443")}return!1}var i,a,r,s,o,c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],l=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,d=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,h=u&&location.protocol&&location.protocol.replace(/\:/,""),p=u&&location.hostname,f=u&&(location.port||void 0),v={},m=e.config&&e.config()||{};return i={version:"2.0.15",strip:function(e){if(e){e=e.replace(l,"");var t=e.match(d);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=c[t];try{e=new ActiveXObject(n)}catch(i){}if(e){c=[n];break}}return e},parseName:function(e){var t,n,i,a=!1,r=e.lastIndexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==r&&(!s||r>1)?(t=e.substring(0,r),n=e.substring(r+1)):t=e,i=n||t,r=i.indexOf("!"),-1!==r&&(a="strip"===i.substring(r+1),i=i.substring(0,r),n?n=i:t=i),{moduleName:t,ext:n,strip:a}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,a,r){var s,o,c,l=i.xdRegExp.exec(e);return l?(s=l[2],o=l[3],o=o.split(":"),c=o[1],o=o[0],(!s||s===t)&&(!o||o.toLowerCase()===a.toLowerCase())&&(!c&&!o||n(s,c,t,r))):!0},finishLoad:function(e,t,n,a){n=t?i.strip(n):n,m.isBuild&&(v[e]=n),a(n)},load:function(e,t,n,a){if(a&&a.isBuild&&!a.inlineText)return void n();m.isBuild=a&&a.isBuild;var r=i.parseName(e),s=r.moduleName+(r.ext?"."+r.ext:""),o=t.toUrl(s),c=m.useXhr||i.useXhr;return 0===o.indexOf("empty:")?void n():void(!u||c(o,h,p,f)?i.get(o,function(t){i.finishLoad(e,r.strip,t,n)},function(e){n.error&&n.error(e)}):t([s],function(e){i.finishLoad(r.moduleName+"."+r.ext,r.strip,e,n)}))},write:function(e,t,n,a){if(v.hasOwnProperty(t)){var r=i.jsEscape(v[t]);n.asModule(e+"!"+t,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,t,n,a,r){var s=i.parseName(t),o=s.ext?"."+s.ext:"",c=s.moduleName+o,l=n.toUrl(s.moduleName+o)+".js";i.load(c,n,function(t){var n=function(e){return a(l,e)};n.asModule=function(e,t){return a.asModule(e,l,t)},i.write(e,c,n,r)},r)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(a=require.nodeRequire("fs"),i.get=function(e,t,n){try{var i=a.readFileSync(e,"utf8");"\ufeff"===i[0]&&(i=i.substring(1)),t(i)}catch(r){n&&n(r)}}):"xhr"===m.env||!m.env&&i.createXhr()?i.get=function(e,t,n,a){var r,s=i.createXhr();if(s.open("GET",e,!0),a)for(r in a)a.hasOwnProperty(r)&&s.setRequestHeader(r.toLowerCase(),a[r]);m.onXhr&&m.onXhr(s,e),s.onreadystatechange=function(i){var a,r;4===s.readyState&&(a=s.status||0,a>399&&600>a?(r=new Error(e+" HTTP status: "+a),r.xhr=s,n&&n(r)):t(s.responseText),m.onXhrComplete&&m.onXhrComplete(s,e))},s.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?i.get=function(e,t){var n,i,a="utf-8",r=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),a)),c="";try{for(n=new java.lang.StringBuffer,i=o.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=o.readLine());)n.append(s),n.append(i);c=String(n.toString())}finally{o.close()}t(c)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,s=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in r,i.get=function(e,t){var n,i,a,c={};o&&(e=e.replace(/\//g,"\\")),a=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream),n.init(a,1,0,!1),i=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream),i.init(n,"utf-8",n.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),i.readString(n.available(),c),i.close(),n.close(),t(c.value)}catch(l){throw new Error((a&&a.path||"")+": "+l)}}),i}),define("html",["text"],function(e){"use strict";var t={load:function(e,t,n,i){return i.isBuild?void n():void t(["text!"+e],function(t){var i=document.createDocumentFragment(),a=/<html(.*)<\/html|<head(.*)<\/head/gi,r=!!t.match(a),s=document.createElement(r?"html":"body");if(s.innerHTML=t,s.children)for(var o=0,c=s.children.length;c>o;o++)i.appendChild(s.children[0]);var l=i.cloneNode(!0);i.stash=function(){if(this.childNodes)for(var e=this.childNodes,t=0,n=e.length;n>t;t++)this.removeChild(e[0]);this.appendChild(l.cloneNode(!0))},i.path=e,i.source=t,n(i)})}};return t}),define("util",[],function(){function e(e){return document.querySelector(e)}function t(e){return document.createElement(e)}var n=function(){var e={addListener:null,removeListener:null};return window.addEventListener?(e.addListener=function(e,t,n){e.addEventListener(t,n,!1)},e.removeListener=function(e,t,n){e.removeEventListener(t,n,!1)}):document.attachEvent?(e.addListener=function(e,t,n){e.attachEvent("on"+t,n)},e.removeListener=function(e,t,n){e.detachEvent("on"+t,n)}):(e.addListener=function(e,t,n){e["on"+t]=n},e.removeListener=function(e,t,n){n instanceof Function&&(e["on"+t]=null)}),e}(),i=function(e,t){function n(e,t){e.className.length>0&&(e.className+=" "),e.className+=t}function i(e,t){for(var n=e.className.split(/\s+/),i=0,a=n.length;a>i;i++)if(n[i]==t){n.splice(i,1);break}e.className=n.join(" ")}function a(e,t){return-1!==e.className.indexOf(t)?!0:!1}return{add:n,remove:i,contains:a}}();return{eve:n,$:e,$create:t,$classList:i}}),define("head",["html!../fragments/head.html","util"],function(e,t){return{append:function(){document.body.appendChild(e)}}}),define("pop",["util"],function(e){function t(e){var e=e||{};this.title=e.title,this.content=e.content,this.confirmFn=e.confirmFn,this.cancleFn=e.cancleFn,this.wrap=i("div")}var n=e.$,i=e.$create,a=e.eve;e.$classList;t.prototype={constructor:t,init:function(){function e(e){e.stopPropagation(),e.target===s&&(void 0!==c.confirmFn&&c.confirmFn(),c.close()),e.target===o&&(void 0!==c.cancleFn&&c.cancleFn(),c.close())}var t=i("h2"),n=i("p"),r=i("div"),s=i("button"),o=i("button");btns=i("div"),r.className="inner",this.wrap.className="wrap",this.wrap.id="pop",t.innerHTML=this.title||"弹出框",n.innerHTML=this.content||"是否确定？",s.innerHTML="Confirm",o.innerHTML="Cancle";var c=this;a.addListener(r,"click",e),a.addListener(this.wrap,"click",function(){c.close()}),btns.appendChild(s),btns.appendChild(o),r.appendChild(t),r.appendChild(n),r.appendChild(btns),this.wrap.appendChild(r)},show:function(){this.init(),n("body").appendChild(this.wrap)},close:function(){n("body").removeChild(this.wrap)}};var r=function(e){var n=new t(e);return{show:n.show.bind(n),close:n.close.bind(n)}};return{init:r}}),define("lists",["html!../fragments/lists.html","util","pop"],function(e,t,n){function i(e){this.listDom=t.$create("tr"),this.title=e.title||"标题"+l,this.time=e.time||"截至日期",this.checkbox=s("input"),this.state=d[e.state]||d.unrelease}function a(e){++l;var t=new i(e);t.createDom()}function r(){for(var e=0,t=u.length;t>e;e++)a(u[e])}var s=(t.$,t.$create),o=t.eve,c=t.$classList,l=0,e=e.querySelector("#lists"),d={unrelease:"未发布",releasing:"发布中",ended:"已结束"},u=[{title:"test1",time:"2016/05/19",satet:"releasing",questionnaire:[]},{title:"test2",time:"2016/05/20",satet:"releasing",questionnaire:[]}];return function(){var t=e.querySelector("div.all input.delete");o.addListener(e.querySelector("input.selectAll"),"click",function(n){var i=n||window.event,a=i.target||i.srcElement,r=e.querySelectorAll("input[name='lists']");if(a.checked){for(var s=0,o=r.length;o>s;s++)r[s].checked||(r[s].checked=!0);a.checked=!0,c.contains(t,"checked")||c.add(t,"checked"),t.removeAttribute("disabled")}else{for(var s=0,o=r.length;o>s;s++)r[s].checked&&(r[s].checked=!1);c.remove(t,"checked"),t.setAttribute("disabled","disabled"),a.checked=!1}}),o.addListener(t,"click",function(){var i=e.querySelectorAll("input[name='lists']");n.init({title:"提示",content:"是否确认删除？",confirmFn:function(){for(var n=0,a=i.length;a>n;n++)if(i[n].checked){var r=i[n].parentNode.parentNode;r.parentNode.removeChild(r)}t.setAttribute("disabled","disabled"),c.remove(t,"checked"),e.querySelector("input.selectAll").checked&&(e.querySelector("input.selectAll").checked=!1)}}).show()})}(),i.prototype={constructor:i,createDom:function(){var t=this,i=this.checkbox,a=s("input"),r=s("input"),l=s("input"),d=s("td"),u=s("td"),h=s("td"),p=s("td"),f=s("td");!function(){a.value="编辑",r.value="删除",l.value="查看",d.innerHTML=t.title,u.innerHTML=t.time,h.innerHTML=t.state,c.add(d,"title"),c.add(u,"time"),c.add(h,"state"),c.add(h,"unrelease"),c.add(f,"handle"),c.add(l,"view"),c.add(a,"edit"),c.add(r,"delete"),i.setAttribute("type","checkbox"),i.setAttribute("name","lists"),a.setAttribute("type","button"),l.setAttribute("type","button"),r.setAttribute("type","button"),f.appendChild(a),f.appendChild(r),f.appendChild(l),p.appendChild(i),t.listDom.appendChild(p),t.listDom.appendChild(d),t.listDom.appendChild(u),t.listDom.appendChild(h),t.listDom.appendChild(f),e.querySelector("tbody").appendChild(t.listDom)}(),o.addListener(r,"click",function(){n.init({title:"提示",content:"是否确认删除？",confirmFn:function(){t.del()}}).show()}),o.addListener(i,"click",function(){t.checked()})},del:function(){this.listDom.parentNode.removeChild(this.listDom),this.listDom=null},checked:function(){this.checkbox.checked?this.checkbox.checked=!0:this.checkbox.checked=!1;for(var t=0,n=e.querySelector("div.all input.delete"),i=e.querySelectorAll("input[name='lists']"),a=0,r=i.length;r>a;a++)i[a].checked&&++t;t>0&&(n.removeAttribute("disabled"),c.contains(n,"checked")||c.add(n,"checked")),0===t&&(n.setAttribute("disabled","disabled"),c.contains(n,"checked")&&c.remove(n,"checked")),t>0&&t===i.length&&(e.querySelector("input.selectAll").checked||(e.querySelector("input.selectAll").checked=!0)),t<i.length&&(e.querySelector("input.selectAll").checked=!1)},view:function(){},edit:function(){}},o.addListener(e.querySelector(".new"),"click",r),{append:function(){document.body.appendChild(e)}}}),define("calendar",["util"],function(e){function t(e){this.isRange=e.isRange,this.range=[],this.rangeGap=e.range.gap||[1,10],this.rangeCallBack=e.range.callBack,this.target=e.target,this.wrap=e.wrap,this.callBack=e.callBack,this.startDate=new Date(e.startDate),this.endDate=new Date(e.endDate),this.year=-1,this.month=-1,this.date=-1,this.frame=i("div"),this.fhead=i("div"),this.fbody=i("div")}function n(e){var n=new t(e);return n.init(),{setDate:n.setDate,getDate:n.getDate}}var i=(e.$,e.$create),a=e.eve,r=e.$classList;return t.prototype={createCalFrame:function(){function e(e,t){for(var n="",i=0,a=e.length;a>i;i++)void 0===e[i]&&(e[i]=""),n+="<"+t+">"+e[i]+"</"+t+">";return n}var t=this,n=this.frame,a=this.fhead,r=this.fbody,s=this.startDate,o=this.endDate,c=new Date(Date.now());if(this.year=c.getFullYear(),this.month=c.getMonth(),this.date=c.getDate(),n.id="calendar",n.className="calendar",a.className="calendarHead",r.className="calendarBody",function(){for(var i=s.getFullYear(),r=o.getFullYear(),c=[],l=["Jan","Feby","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],d=i;r>=d;)c.push(d),++d;a.innerHTML="<span class='prev btn'></span><div class='selectDate'><select class='js-month'>"+e(l,"option")+"</select><select class='js-year'>"+e(c,"option")+"</select></div><span class='next btn'></span>",a.querySelector(".js-month").selectedIndex=t.month,a.querySelector(".js-year").selectedIndex=t.year-i,n.appendChild(a)}(),function(){var t=["Su","Mo","Tu","We","Th","Fr","Sa"],i=new Array(42);r.innerHTML="<ul class='daysOfWeek'>"+e(t,"li")+"</ul><ul class='days'>"+e(i,"li")+"</ul>",n.appendChild(r)}(),t.isRange){var l=i("div");l.className="rangeBtn",l.innerHTML="<button class='confirm'>Confirm</button><button class='cancle'>Cancle</button>",n.appendChild(l)}this.wrap.appendChild(n)},refreshCal:function(){for(var e=new Date(this.year+"/"+(this.month+1)+"/01").getDay(),t=[],n=1-e,i=42-e;i>=n;n++){var a=new Date(this.year+"/"+(this.month+1)+"/");t.push(new Date(a.setDate(n)))}for(var s=this.frame.querySelector(".calendar .days").querySelectorAll("li"),o=0,c=s.length;c>o;o++)s[o].className="",r.add(s[o],"day"),t[o].getFullYear()===this.year&&t[o].getMonth()===this.month&&r.add(s[o],"currMonth"),s[o].innerHTML=t[o].getDate(),t[o].getMonth()!==this.month&&(e>o?this.year===new Date(this.startDate).getFullYear()&&0===this.month?(r.remove(s[o],"day"),s[o].innerHTML=""):r.add(s[o],"prevMonth"):this.year===new Date(this.endDate).getFullYear()&&11===this.month?(r.remove(s[o],"day"),s[o].innerHTML=""):r.add(s[o],"nextMonth"))},addEvent:function(){function e(e){var t=e||window.event,i=t.target||t.srcElement;switch(i.className){case"js-month":n.month=i.selectedIndex;break;case"js-year":n.year=i.selectedIndex+c.getFullYear();break;case"prev btn":n.switchMonth("prev");break;case"next btn":n.switchMonth("next")}n.refreshCal(),n.changeDate()}function t(e){var t=e||window.event,a=t.target||t.srcElement;if("confirm"===a.className){if(n.range.length<2)return alert("请选择时间段！"),!1;n.output("From "+n.range[0]+" To "+n.range[1]),i.style.visibility="hidden"}n.range.splice(0,2);for(var s=o.querySelectorAll(".day"),c=0,l=s.length;l>c;c++)r.contains(s[c],"selected")&&r.remove(s[c],"selected"),r.contains(s[c],"inRange")&&r.remove(s[c],"inRange")}var n=this,i=this.frame,s=this.fhead,o=this.fbody,c=this.startDate;this.endDate;a.addListener(n.target,"click",function(){var e=event||window.event;e.stopPropagation?e.stopPropagation():e.cancelable=!0,"visible"===i.style.visibility?i.style.visibility="hidden":i.style.visibility="visible"}),a.addListener(i,"click",function(){var e=event||window.event;e.stopPropagation?e.stopPropagation():e.cancelable=!0}),a.addListener(document.body,"click",function(){"visible"===i.style.visibility&&(i.style.visibility="hidden")}),a.addListener(n.target,"keyup",function(){var e=event||window.event,t=e.target||e.srcElement,i=/^\d{4}\/\d{1,2}\/\d{1,2}$/;i.test(t.value)&&n.setDate(t.value)}),a.addListener(s.querySelector(".selectDate"),"change",e),a.addListener(s.querySelector(".prev"),"click",e),a.addListener(s.querySelector(".next"),"click",e),null!==i.querySelector(".rangeBtn")&&a.addListener(i.querySelector(".rangeBtn"),"click",t)},switchMonth:function(e){if("prev"===e){if(this.year===this.startDate.getFullYear()&&0===this.month)return!1;--this.month}if("next"===e){if(this.year===this.endDate.getFullYear()&&11===this.month)return!1;++this.month}this.month<0&&(this.month=11,--this.year),this.month>11&&(this.month=0,++this.year),this.fhead.querySelector(".js-month").selectedIndex=this.month,this.fhead.querySelector(".js-year").selectedIndex=this.year-this.startDate.getFullYear()},selectDate:function(){function e(e){function a(){for(var e=i.querySelector(".days").querySelectorAll(".currMonth"),a=0,s=e.length;s>a;a++)r.contains(e[a],"selected")&&r.remove(e[a],"selected");r.contains(c,"day")&&(t.date=parseInt(c.innerHTML),r.add(c,"selected"),r.contains(c,"prevMonth")&&(t.switchMonth("prev"),t.refreshCal(),t.changeDate()),r.contains(c,"nextMonth")&&(t.switchMonth("next"),t.refreshCal(),t.changeDate()),t.output(t.getDate()),n.style.visibility="hidden")}function s(){function e(e){var n=Math.abs(new Date(o).getTime()-new Date(a[e]).getTime())/864e5;return n<t.rangeGap[0]||n>t.rangeGap[1]?(alert("时间间隔应大于"+t.rangeGap[0]+"天,小于"+t.rangeGap[1]+"天."),!1):!0}function n(){r.contains(c,"prevMonth")&&(t.switchMonth("prev"),t.refreshCal()),r.contains(c,"nextMonth")&&(t.switchMonth("next"),t.refreshCal())}var a=t.range;if(!r.contains(c,"day"))return!1;t.date=parseInt(c.innerHTML);var s=t.month;r.contains(c,"prevMonth")&&--s,r.contains(c,"nextMonth")&&++s;var o=t.getDate({month:s});switch(a.length){case 1:if(!e(0))return!1;n(),a[0]>o?a.unshift(o):a.push(o);break;case 2:n();for(var l=i.querySelectorAll(".day"),d=0,u=l.length;u>d;d++)r.contains(l[d],"selected")&&r.remove(l[d],"selected"),r.contains(l[d],"inRange")&&r.remove(l[d],"inRange");a.splice(0,2,o);break;default:n(),a.push(o)}t.markDate()}var o=e||window.event,c=o.target||o.srcElement;return r.contains(c,"days")||r.contains(c,"none")?!1:void(t.isRange?s():a())}var t=this,n=this.frame,i=(this.fhead,this.fbody);a.addListener(i.querySelector(".days"),"click",e)},markDate:function(){for(var e=this,t=e.range,n=this.fbody.querySelectorAll(".day"),i=0,a=n.length;a>i;i++){r.contains(n[i],"inRange")&&r.remove(n[i],"inRange");var s,o=e.month,c=parseInt(n[i].innerHTML);r.contains(n[i],"prevMonth")&&--o,r.contains(n[i],"nextMonth")&&++o,s=e.getDate({month:o,date:c}),s>t[0]&&void 0!==t[1]&&s<t[1]&&r.add(n[i],"inRange"),s!==t[0]&&s!==t[1]||r.contains(n[i],"selected")||r.add(n[i],"selected")}},changeDate:function(){var e=this,t=(this.frame,this.fhead,this.fbody);if(this.isRange)e.markDate();else{for(var n=t.querySelector(".days").querySelectorAll(".currMonth"),i=0,a=n.length;a>i;i++)parseInt(n[i].innerHTML)===this.date&&r.add(n[i],"selected");if(0===e.frame.querySelector(".calendar .days").querySelectorAll(".selected").length){var s=e.frame.querySelector(".calendar .days").querySelectorAll(".currMonth");r.add(s[s.length-1],"selected"),this.date=s.length}}},setDate:function(e){var t=/^\d{4}\/\d{1,2}\/\d{1,2}$/,n=new Date(e);if(isNaN(n.getTime()))return!1;var i=n.getFullYear(),a=this.startDate,r=this.endDate;return t.test(e)?i<a.getFullYear()||i>r.getFullYear()?(alert("设置的日期超出范围！"),!1):(this.year=i,that.frame.querySelector(".calendarHead").querySelector(".js-year").selectedIndex=i-a.getFullYear(),that.frame.querySelector(".calendarHead").querySelector(".js-month").selectedIndex=this.month=n.getMonth(),this.date=n.getDate(),void this.refreshCal()):(alert("请输入正确的日期格式"),!1)},output:function(e){this.target.value=e,this.callBack(e)},getDate:function(e){void 0===e&&(e={});var t=e.year||this.year,n=e.month||this.month,i=e.date||this.date;9>n?n="0"+(n+1):n+=1,10>i&&(i="0"+i);var a=t+"/"+n+"/"+i;return a},init:function(){this.createCalFrame(),this.refreshCal(),this.addEvent(),this.selectDate()}},{init:n}}),define("edit",["html!../fragments/edit.html","util","calendar","pop"],function(e,t,n,i){function a(e){this.num=d,this.type=e.type,this.question=e.question||"",this.options=e.options||[],this.wrap=o("div")}function r(e){++d;var t=new a(e);t.createQuestion()}var s=t.$,o=t.$create,c=t.eve,l=t.$classList,d=0;n.init({target:e.querySelector(".dateWrap input"),wrap:e.querySelector(".dateWrap"),startDate:"2000/01/01",endDate:"2020/12/31",isRange:!1,range:{gap:[1,20],callBack:function(){}},callBack:function(e){i.init({title:"提示",content:"(此问卷的截止日期为"+e+")",confirmFn:function(){}}).show()}});return a.prototype={constructor:a,createQuestion:function(){var e=this.wrap,t=this,n=this.question,i=this.options,a="",r="";if(l.add(e,"question"),function(){if(0===n.length)switch(t.type){case"radio":n="单选题";break;case"checkbox":n="多选题";break;case"textarea":n="文本题"}0===i.length&&"textarea"!==t.type&&(i=[{content:"选项1",count:0},{content:"选项2",count:0},{content:"选项3",count:0},{content:"选项4",count:0}])}(),"textarea"===this.type)a=this.createOption();else{for(var o=0,c=i.length;c>o;o++)a+=this.createOption(i[o].content);r="<div class='addOption'><span class='icon-plus'></span><div>"}e.innerHTML="<div class='qhead'><span>Q"+this.num+"</span><input type='text' name='question' value='"+n+"'></div><div class='qoption'>"+a+"</div>"+r+"<div class='operations'><span class='up'>上移</span><span class='down'>下移</span><span class='clone'>复用</span><span class='del'>删除</span></div>",s("#edit .questionnaire").appendChild(e),this.bindEvent()},createOption:function(e){var t="";return t="textarea"===this.type?"<textarea rows='10' cols='80'></textarea>":"<label><input type='"+this.type+"' name=Q"+this.num+"><input type='text' value="+e+"><span class='optionDel'>删除</span></label>"},bindEvent:function(){function e(){function e(e){var t=e||window.event,n=t.target||t.srcElement;"SPAN"===n.tagName?n.parentNode.parentNode.removeChild(n.parentNode):"focus"===t.type}for(var n=t.querySelectorAll(".qoption input[type='text']"),i=t.querySelectorAll(".qoption .optionDel"),a=0,r=n.length;r>a;a++)c.addListener(n[a],"focus",e),c.addListener(n[a],"blur",e),c.addListener(i[a],"click",e)}var t=this.wrap,n=this,i=t.querySelector(".qoption"),a=(t.querySelector(".operations"),t.querySelector(".addOption")),r=n.options.length;0===r&&(r=4),c.addListener(a,"click",function(){++r,i.innerHTML+=n.createOption("选项"+r),e()}),e()},down:function(){},up:function(){},clone:function(){},del:function(){}},function(){var t=e.querySelector(".addWrap .add"),n=e.querySelector(".addWrap .options"),a=e.querySelector(".footer .btns");c.addListener(t,"click",function(){n.style.display="block"}),c.addListener(n,"click",function(e){n.style.display="none";var t=e||window.event,i=t.target||t.srcElement,a={};l.contains(i,"radio")&&(a.type="radio"),l.contains(i,"checkbox")&&(a.type="checkbox"),l.contains(i,"textarea")&&(a.type="textarea"),r(a)}),c.addListener(a,"click",function(){var e=event||window.event,t=e.target||e.srcElement,n="";l.contains(t,"save")&&(n="保存"),l.contains(t,"release")&&(n="发布"),i.init({title:"提示",content:"是否确认"+n+"？",confirmFn:function(){}}).show()})}(),{append:function(){document.body.appendChild(e)}}}),require(["head","lists","edit"],function(e,t,n){e.append(),n.append()}),define("../app",function(){});